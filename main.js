(()=>{var t,e={9681:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s=t.lambda,r=t.escapeExpression,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<label>\n  <input type="checkbox" value="'+r(s(null!=e?o(e,"id"):e,e))+'" />\n  '+r(s(null!=e?o(e,"first_name"):e,e))+" "+r(s(null!=e?o(e,"second_name"):e,e))+" (@"+r(s(null!=e?o(e,"login"):e,e))+")\n</label>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>\n  "+u(typeof(r=null!=(r=p(n,"title")||(null!=e?p(e,"title"):e))?r:i)===c?r.call(o,{name:"title",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:11}}}):r)+"\n</h2>\n"+(null!=(s=typeof(r=null!=(r=p(n,"login")||(null!=e?p(e,"login"):e))?r:i)===c?r.call(o,{name:"login",hash:{},data:a,loc:{start:{line:4,column:0},end:{line:4,column:11}}}):r)?s:"")+"\n<span class="+u(typeof(r=null!=(r=p(n,"className")||(null!=e?p(e,"className"):e))?r:i)===c?r.call(o,{name:"className",hash:{},data:a,loc:{start:{line:5,column:12},end:{line:5,column:25}}}):r)+"__error> "+(null!=(s=typeof(r=null!=(r=p(n,"serverError")||(null!=e?p(e,"serverError"):e))?r:i)===c?r.call(o,{name:"serverError",hash:{},data:a,loc:{start:{line:5,column:34},end:{line:5,column:51}}}):r)?s:"")+" </span>\n"+(null!=(s=p(n,"each").call(o,null!=e?p(e,"users"):e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:6,column:0},end:{line:11,column:9}}}))?s:"")+(null!=(s=typeof(r=null!=(r=p(n,"button")||(null!=e?p(e,"button"):e))?r:i)===c?r.call(o,{name:"button",hash:{},data:a,loc:{start:{line:12,column:0},end:{line:12,column:12}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"submitButton")||(null!=e?p(e,"submitButton"):e))?r:i)===c?r.call(o,{name:"submitButton",hash:{},data:a,loc:{start:{line:13,column:0},end:{line:13,column:18}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"closeButton")||(null!=e?p(e,"closeButton"):e))?r:i)===c?r.call(o,{name:"closeButton",hash:{},data:a,loc:{start:{line:14,column:0},end:{line:14,column:17}}}):r)?s:"")+"\n"},useData:!0})},411:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>\n  "+u(typeof(r=null!=(r=p(n,"title")||(null!=e?p(e,"title"):e))?r:i)===c?r.call(o,{name:"title",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:11}}}):r)+"\n</h2>\n"+(null!=(s=typeof(r=null!=(r=p(n,"login")||(null!=e?p(e,"login"):e))?r:i)===c?r.call(o,{name:"login",hash:{},data:a,loc:{start:{line:4,column:0},end:{line:4,column:11}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"password")||(null!=e?p(e,"password"):e))?r:i)===c?r.call(o,{name:"password",hash:{},data:a,loc:{start:{line:5,column:0},end:{line:5,column:14}}}):r)?s:"")+"\n<span class="+u(typeof(r=null!=(r=p(n,"className")||(null!=e?p(e,"className"):e))?r:i)===c?r.call(o,{name:"className",hash:{},data:a,loc:{start:{line:6,column:12},end:{line:6,column:25}}}):r)+"__error> "+(null!=(s=typeof(r=null!=(r=p(n,"serverError")||(null!=e?p(e,"serverError"):e))?r:i)===c?r.call(o,{name:"serverError",hash:{},data:a,loc:{start:{line:6,column:34},end:{line:6,column:51}}}):r)?s:"")+" </span>\n"+(null!=(s=typeof(r=null!=(r=p(n,"button")||(null!=e?p(e,"button"):e))?r:i)===c?r.call(o,{name:"button",hash:{},data:a,loc:{start:{line:7,column:0},end:{line:7,column:12}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"link")||(null!=e?p(e,"link"):e))?r:i)===c?r.call(o,{name:"link",hash:{},data:a,loc:{start:{line:8,column:0},end:{line:8,column:10}}}):r)?s:"")+"\n"},useData:!0})},255:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){return"\n"},useData:!0})},2809:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  <span>"+t.escapeExpression("function"==typeof(s=null!=(s=r(n,"avatarName")||(null!=e?r(e,"avatarName"):e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"avatarName",hash:{},data:a,loc:{start:{line:4,column:8},end:{line:4,column:22}}}):s)+"</spane>\n"},3:function(t,e,n,l,a){return'    <span data-style="placeholder">Выбрать файл</span>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<label>\n  <span data-style="text">'+(null!=(s=typeof(r=null!=(r=u(n,"text")||(null!=e?u(e,"text"):e))?r:i)===c?r.call(o,{name:"text",hash:{},data:a,loc:{start:{line:2,column:26},end:{line:2,column:36}}}):r)?s:"")+"</span>\n"+(null!=(s=u(n,"if").call(o,null!=e?u(e,"avatarName"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a,loc:{start:{line:3,column:2},end:{line:7,column:11}}}))?s:"")+'    <input name="'+(null!=(s=typeof(r=null!=(r=u(n,"name")||(null!=e?u(e,"name"):e))?r:i)===c?r.call(o,{name:"name",hash:{},data:a,loc:{start:{line:8,column:17},end:{line:8,column:27}}}):r)?s:"")+'" value="'+(null!=(s=typeof(r=null!=(r=u(n,"value")||(null!=e?u(e,"value"):e))?r:i)===c?r.call(o,{name:"value",hash:{},data:a,loc:{start:{line:8,column:36},end:{line:8,column:47}}}):r)?s:"")+'" type='+t.escapeExpression(typeof(r=null!=(r=u(n,"type")||(null!=e?u(e,"type"):e))?r:i)===c?r.call(o,{name:"type",hash:{},data:a,loc:{start:{line:8,column:54},end:{line:8,column:62}}}):r)+' accept="'+(null!=(s=typeof(r=null!=(r=u(n,"accept")||(null!=e?u(e,"accept"):e))?r:i)===c?r.call(o,{name:"accept",hash:{},data:a,loc:{start:{line:8,column:71},end:{line:8,column:83}}}):r)?s:"")+'"> </input>\n</label>\n'},useData:!0})},7640:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"\t"+(null!=(s="function"==typeof(r=null!=(r=o(n,"text")||(null!=e?o(e,"text"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"text",hash:{},data:a,loc:{start:{line:1,column:1},end:{line:1,column:11}}}):r)?s:"")+"\n"},useData:!0})},9620:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(s="function"==typeof(r=null!=(r=o(n,"deleteChat")||(null!=e?o(e,"deleteChat"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"deleteChat",hash:{},data:a,loc:{start:{line:4,column:0},end:{line:4,column:16}}}):r)?s:"")+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(s=typeof(r=null!=(r=u(n,"addUser")||(null!=e?u(e,"addUser"):e))?r:i)===c?r.call(o,{name:"addUser",hash:{},data:a,loc:{start:{line:1,column:0},end:{line:1,column:13}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=u(n,"deleteUser")||(null!=e?u(e,"deleteUser"):e))?r:i)===c?r.call(o,{name:"deleteUser",hash:{},data:a,loc:{start:{line:2,column:0},end:{line:2,column:16}}}):r)?s:"")+"\n"+(null!=(s=u(n,"if").call(o,null!=e?u(e,"isAvailableToDelete"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:3,column:0},end:{line:5,column:7}}}))?s:"")},useData:!0})},5425:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s,r,o=t.lambda,i=null!=e?e:t.nullContext||{},c=t.hooks.helperMissing,u="function",p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class="+(null!=(s=o(null!=(s=null!=e?p(e,"style"):e)?p(s,"group"):s,e))?s:"")+">\n  "+(null!=(s=typeof(r=null!=(r=p(n,"avatar")||(null!=e?p(e,"avatar"):e))?r:c)===u?r.call(i,{name:"avatar",hash:{},data:a,loc:{start:{line:3,column:2},end:{line:3,column:14}}}):r)?s:"")+"\n  <span class="+(null!=(s=o(null!=(s=null!=e?p(e,"style"):e)?p(s,"name"):s,e))?s:"")+">"+t.escapeExpression(o(null!=(s=null!=e?p(e,"activeChat"):e)?p(s,"title"):s,e))+"</span>\n</div>\n"+(null!=(s=typeof(r=null!=(r=p(n,"button")||(null!=e?p(e,"button"):e))?r:c)===u?r.call(i,{name:"button",hash:{},data:a,loc:{start:{line:6,column:0},end:{line:6,column:12}}}):r)?s:"")+"\n"},3:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(s="function"==typeof(r=null!=(r=o(n,"chatHeaderMenu")||(null!=e?o(e,"chatHeaderMenu"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"chatHeaderMenu",hash:{},data:a,loc:{start:{line:10,column:0},end:{line:10,column:20}}}):r)?s:"")+"\n"},5:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class="+(null!=(s=t.lambda(null!=(s=null!=e?o(e,"style"):e)?o(s,"wrapper"):s,e))?s:"")+">\n"+(null!=(s="function"==typeof(r=null!=(r=o(n,"addUserPopup")||(null!=e?o(e,"addUserPopup"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"addUserPopup",hash:{},data:a,loc:{start:{line:15,column:0},end:{line:15,column:19}}}):r)?s:"")+"\n</div>\n"},7:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class="+(null!=(s=t.lambda(null!=(s=null!=e?o(e,"style"):e)?o(s,"wrapper"):s,e))?s:"")+">\n"+(null!=(s="function"==typeof(r=null!=(r=o(n,"deleteUserPopup")||(null!=e?o(e,"deleteUserPopup"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"deleteUserPopup",hash:{},data:a,loc:{start:{line:21,column:0},end:{line:21,column:22}}}):r)?s:"")+"\n</div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r=null!=e?e:t.nullContext||{},o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(s=o(n,"if").call(r,null!=e?o(e,"activeChat"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:1,column:0},end:{line:7,column:7}}}))?s:"")+"\n"+(null!=(s=o(n,"if").call(r,null!=e?o(e,"isOpenHeaderMenuModal"):e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a,loc:{start:{line:9,column:0},end:{line:11,column:7}}}))?s:"")+"\n"+(null!=(s=o(n,"if").call(r,null!=e?o(e,"isOpenAddUserModal"):e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a,loc:{start:{line:13,column:0},end:{line:17,column:7}}}))?s:"")+"\n"+(null!=(s=o(n,"if").call(r,null!=e?o(e,"isOpenDeleteUserModal"):e,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a,loc:{start:{line:19,column:0},end:{line:23,column:7}}}))?s:"")},useData:!0})},682:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  <div class="+(null!=(s=t.lambda(null!=(s=null!=e?o(e,"styles"):e)?o(s,"count"):s,e))?s:"")+">"+(null!=(s="function"==typeof(r=null!=(r=o(n,"count")||(null!=e?o(e,"count"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"count",hash:{},data:a,loc:{start:{line:9,column:32},end:{line:9,column:43}}}):r)?s:"")+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lambda,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(s=typeof(r=null!=(r=p(n,"avatar")||(null!=e?p(e,"avatar"):e))?r:i)===c?r.call(o,{name:"avatar",hash:{},data:a,loc:{start:{line:1,column:0},end:{line:1,column:12}}}):r)?s:"")+"\n<div class="+(null!=(s=u(null!=(s=null!=e?p(e,"styles"):e)?p(s,"column"):s,e))?s:"")+">\n  <h3 class="+(null!=(s=u(null!=(s=null!=e?p(e,"styles"):e)?p(s,"title"):s,e))?s:"")+">"+(null!=(s=typeof(r=null!=(r=p(n,"name")||(null!=e?p(e,"name"):e))?r:i)===c?r.call(o,{name:"name",hash:{},data:a,loc:{start:{line:3,column:31},end:{line:3,column:41}}}):r)?s:"")+"</h3>\n  <p class="+(null!=(s=u(null!=(s=null!=e?p(e,"styles"):e)?p(s,"text"):s,e))?s:"")+">"+(null!=(s=typeof(r=null!=(r=p(n,"text")||(null!=e?p(e,"text"):e))?r:i)===c?r.call(o,{name:"text",hash:{},data:a,loc:{start:{line:4,column:29},end:{line:4,column:39}}}):r)?s:"")+"</p>\n</div>\n<div class="+(null!=(s=u(null!=(s=null!=e?p(e,"styles"):e)?p(s,"column"):s,e))?s:"")+">\n  <span class="+(null!=(s=u(null!=(s=null!=e?p(e,"styles"):e)?p(s,"time"):s,e))?s:"")+">"+(null!=(s=typeof(r=null!=(r=p(n,"time")||(null!=e?p(e,"time"):e))?r:i)===c?r.call(o,{name:"time",hash:{},data:a,loc:{start:{line:7,column:32},end:{line:7,column:42}}}):r)?s:"")+"</span>\n"+(null!=(s=p(n,"if").call(o,null!=e?p(e,"count"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:8,column:2},end:{line:10,column:9}}}))?s:"")+"</div>\n"},useData:!0})},3722:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class="+t.escapeExpression(typeof(r=null!=(r=u(n,"class")||(null!=e?u(e,"class"):e))?r:i)===c?r.call(o,{name:"class",hash:{},data:a,loc:{start:{line:1,column:11},end:{line:1,column:20}}}):r)+"__buttons>\n"+(null!=(s=typeof(r=null!=(r=u(n,"button")||(null!=e?u(e,"button"):e))?r:i)===c?r.call(o,{name:"button",hash:{},data:a,loc:{start:{line:2,column:0},end:{line:2,column:12}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=u(n,"link")||(null!=e?u(e,"link"):e))?r:i)===c?r.call(o,{name:"link",hash:{},data:a,loc:{start:{line:3,column:0},end:{line:3,column:10}}}):r)?s:"")+"\n</div>\n"+(null!=(s=typeof(r=null!=(r=u(n,"search")||(null!=e?u(e,"search"):e))?r:i)===c?r.call(o,{name:"search",hash:{},data:a,loc:{start:{line:5,column:0},end:{line:5,column:12}}}):r)?s:"")+"\n"},useData:!0})},4090:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s;return"  <li>"+(null!=(s=t.lambda(e,e))?s:"")+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(s="function"==typeof(r=null!=(r=i(n,"panel")||(null!=e?i(e,"panel"):e))?r:t.hooks.helperMissing)?r.call(o,{name:"panel",hash:{},data:a,loc:{start:{line:1,column:0},end:{line:1,column:12}}}):r)?s:"")+"\n<ul>\n"+(null!=(s=i(n,"each").call(o,null!=e?i(e,"items"):e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:3,column:2},end:{line:5,column:11}}}))?s:"")+"</ul>\n"},useData:!0})},4802:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s;return(null!=(s=t.lambda(e,e))?s:"")+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>\n  "+t.escapeExpression(typeof(r=null!=(r=u(n,"title")||(null!=e?u(e,"title"):e))?r:i)===c?r.call(o,{name:"title",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:11}}}):r)+"\n</h2>\n"+(null!=(s=u(n,"each").call(o,null!=e?u(e,"users"):e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:4,column:0},end:{line:6,column:9}}}))?s:"")+(null!=(s=typeof(r=null!=(r=u(n,"button")||(null!=e?u(e,"button"):e))?r:i)===c?r.call(o,{name:"button",hash:{},data:a,loc:{start:{line:7,column:0},end:{line:7,column:12}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=u(n,"closeButton")||(null!=e?u(e,"closeButton"):e))?r:i)===c?r.call(o,{name:"closeButton",hash:{},data:a,loc:{start:{line:8,column:0},end:{line:8,column:17}}}):r)?s:"")+"\n"},useData:!0})},4981:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  <span>"+t.escapeExpression("function"==typeof(s=null!=(s=r(n,"fileName")||(null!=e?r(e,"fileName"):e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"fileName",hash:{},data:a,loc:{start:{line:4,column:8},end:{line:4,column:20}}}):s)+"</spane>\n"},3:function(t,e,n,l,a){return'    <span data-style="placeholder">Выбрать файл на компьютере</span>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<label>\n  <span>"+(null!=(s=typeof(r=null!=(r=u(n,"text")||(null!=e?u(e,"text"):e))?r:i)===c?r.call(o,{name:"text",hash:{},data:a,loc:{start:{line:2,column:8},end:{line:2,column:18}}}):r)?s:"")+"</span>\n"+(null!=(s=u(n,"if").call(o,null!=e?u(e,"fileName"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a,loc:{start:{line:3,column:2},end:{line:7,column:11}}}))?s:"")+"    <input name="+(null!=(s=typeof(r=null!=(r=u(n,"name")||(null!=e?u(e,"name"):e))?r:i)===c?r.call(o,{name:"name",hash:{},data:a,loc:{start:{line:8,column:16},end:{line:8,column:26}}}):r)?s:"")+' value="'+(null!=(s=typeof(r=null!=(r=u(n,"value")||(null!=e?u(e,"value"):e))?r:i)===c?r.call(o,{name:"value",hash:{},data:a,loc:{start:{line:8,column:34},end:{line:8,column:45}}}):r)?s:"")+'" type='+t.escapeExpression(typeof(r=null!=(r=u(n,"type")||(null!=e?u(e,"type"):e))?r:i)===c?r.call(o,{name:"type",hash:{},data:a,loc:{start:{line:8,column:52},end:{line:8,column:60}}}):r)+' accept="'+(null!=(s=typeof(r=null!=(r=u(n,"accept")||(null!=e?u(e,"accept"):e))?r:i)===c?r.call(o,{name:"accept",hash:{},data:a,loc:{start:{line:8,column:69},end:{line:8,column:81}}}):r)?s:"")+'"> </input>\n</label>\n'},useData:!0})},3957:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>\n  "+t.escapeExpression("function"==typeof(s=null!=(s=r(n,"title")||(null!=e?r(e,"title"):e))?s:t.hooks.helperMissing)?s.call(null!=e?e:t.nullContext||{},{name:"title",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:11}}}):s)+"\n</h2>\n\n"},useData:!0})},1691:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){return"\n"},useData:!0})},8615:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return' placeholder="'+(null!=(s="function"==typeof(r=null!=(r=o(n,"placeholder")||(null!=e?o(e,"placeholder"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"placeholder",hash:{},data:a,loc:{start:{line:3,column:78},end:{line:3,column:95}}}):r)?s:"")+'" '},3:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return' accept="'+(null!=(s="function"==typeof(r=null!=(r=o(n,"accept")||(null!=e?o(e,"accept"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"accept",hash:{},data:a,loc:{start:{line:4,column:27},end:{line:4,column:39}}}):r)?s:"")+'" '},5:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return' autofocus="'+(null!=(s="function"==typeof(r=null!=(r=o(n,"autofocus")||(null!=e?o(e,"autofocus"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"autofocus",hash:{},data:a,loc:{start:{line:4,column:78},end:{line:4,column:93}}}):r)?s:"")+'" '},7:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\n    pattern="'+(null!=(s="function"==typeof(r=null!=(r=o(n,"pattern")||(null!=e?o(e,"pattern"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"pattern",hash:{},data:a,loc:{start:{line:5,column:13},end:{line:5,column:26}}}):r)?s:"")+'" '},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<label>\n  "+(null!=(s=typeof(r=null!=(r=u(n,"label")||(null!=e?u(e,"label"):e))?r:i)===c?r.call(o,{name:"label",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:13}}}):r)?s:"")+"\n  <input name="+(null!=(s=typeof(r=null!=(r=u(n,"name")||(null!=e?u(e,"name"):e))?r:i)===c?r.call(o,{name:"name",hash:{},data:a,loc:{start:{line:3,column:14},end:{line:3,column:24}}}):r)?s:"")+' value="'+(null!=(s=typeof(r=null!=(r=u(n,"value")||(null!=e?u(e,"value"):e))?r:i)===c?r.call(o,{name:"value",hash:{},data:a,loc:{start:{line:3,column:32},end:{line:3,column:43}}}):r)?s:"")+'" '+(null!=(s=u(n,"if").call(o,null!=e?u(e,"placeholder"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:3,column:45},end:{line:3,column:104}}}))?s:"")+" type="+t.escapeExpression(typeof(r=null!=(r=u(n,"type")||(null!=e?u(e,"type"):e))?r:i)===c?r.call(o,{name:"type",hash:{},data:a,loc:{start:{line:3,column:110},end:{line:3,column:118}}}):r)+"\n    "+(null!=(s=u(n,"if").call(o,null!=e?u(e,"accept"):e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a,loc:{start:{line:4,column:4},end:{line:4,column:48}}}))?s:"")+" "+(null!=(s=u(n,"if").call(o,null!=e?u(e,"autofocus"):e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a,loc:{start:{line:4,column:49},end:{line:4,column:102}}}))?s:"")+" "+(null!=(s=u(n,"if").call(o,null!=e?u(e,"pattern"):e,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a,loc:{start:{line:4,column:103},end:{line:5,column:35}}}))?s:"")+"/>\n  <span>"+(null!=(s=typeof(r=null!=(r=u(n,"error")||(null!=e?u(e,"error"):e))?r:i)===c?r.call(o,{name:"error",hash:{},data:a,loc:{start:{line:6,column:8},end:{line:6,column:19}}}):r)?s:"")+"</span>\n</label>\n"},useData:!0})},159:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(s="function"==typeof(r=null!=(r=o(n,"text")||(null!=e?o(e,"text"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"text",hash:{},data:a,loc:{start:{line:1,column:0},end:{line:1,column:10}}}):r)?s:"")+"\n"},useData:!0})},4595:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(s=typeof(r=null!=(r=u(n,"addFileInput")||(null!=e?u(e,"addFileInput"):e))?r:i)===c?r.call(o,{name:"addFileInput",hash:{},data:a,loc:{start:{line:1,column:0},end:{line:1,column:18}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=u(n,"message")||(null!=e?u(e,"message"):e))?r:i)===c?r.call(o,{name:"message",hash:{},data:a,loc:{start:{line:2,column:0},end:{line:2,column:13}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=u(n,"sendMessage")||(null!=e?u(e,"sendMessage"):e))?r:i)===c?r.call(o,{name:"sendMessage",hash:{},data:a,loc:{start:{line:3,column:0},end:{line:3,column:17}}}):r)?s:"")+"\n"},useData:!0})},9004:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div class="+u(typeof(r=null!=(r=p(n,"class")||(null!=e?p(e,"class"):e))?r:i)===c?r.call(o,{name:"class",hash:{},data:a,loc:{start:{line:1,column:11},end:{line:1,column:20}}}):r)+"__content>"+(null!=(s=typeof(r=null!=(r=p(n,"content")||(null!=e?p(e,"content"):e))?r:i)===c?r.call(o,{name:"content",hash:{},data:a,loc:{start:{line:1,column:30},end:{line:1,column:43}}}):r)?s:"")+"</div>\n<span class="+u(typeof(r=null!=(r=p(n,"class")||(null!=e?p(e,"class"):e))?r:i)===c?r.call(o,{name:"class",hash:{},data:a,loc:{start:{line:2,column:12},end:{line:2,column:21}}}):r)+"__time>"+u(typeof(r=null!=(r=p(n,"time")||(null!=e?p(e,"time"):e))?r:i)===c?r.call(o,{name:"time",hash:{},data:a,loc:{start:{line:2,column:28},end:{line:2,column:36}}}):r)+"</span>\n"},useData:!0})},8345:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s;return(null!=(s=t.lambda(e,e))?s:"")+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(s=r(n,"each").call(null!=e?e:t.nullContext||{},null!=e?r(e,"chatsData"):e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:1,column:0},end:{line:3,column:9}}}))?s:""},useData:!0})},7899:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>\n  Создать чат\n</h2>\n"+(null!=(s=typeof(r=null!=(r=u(n,"titleInput")||(null!=e?u(e,"titleInput"):e))?r:i)===c?r.call(o,{name:"titleInput",hash:{},data:a,loc:{start:{line:4,column:0},end:{line:4,column:16}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=u(n,"button")||(null!=e?u(e,"button"):e))?r:i)===c?r.call(o,{name:"button",hash:{},data:a,loc:{start:{line:5,column:0},end:{line:5,column:12}}}):r)?s:"")+"\n\n\n"},useData:!0})},8109:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"\t"+(null!=(s="function"==typeof(r=null!=(r=o(n,"content")||(null!=e?o(e,"content"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"content",hash:{},data:a,loc:{start:{line:1,column:1},end:{line:1,column:14}}}):r)?s:"")+"\n"},useData:!0})},6622:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>\n  "+u(typeof(r=null!=(r=p(n,"title")||(null!=e?p(e,"title"):e))?r:i)===c?r.call(o,{name:"title",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:11}}}):r)+"\n</h2>\n"+(null!=(s=typeof(r=null!=(r=p(n,"first_name")||(null!=e?p(e,"first_name"):e))?r:i)===c?r.call(o,{name:"first_name",hash:{},data:a,loc:{start:{line:4,column:0},end:{line:4,column:16}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"second_name")||(null!=e?p(e,"second_name"):e))?r:i)===c?r.call(o,{name:"second_name",hash:{},data:a,loc:{start:{line:5,column:0},end:{line:5,column:17}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"login")||(null!=e?p(e,"login"):e))?r:i)===c?r.call(o,{name:"login",hash:{},data:a,loc:{start:{line:6,column:0},end:{line:6,column:11}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"email")||(null!=e?p(e,"email"):e))?r:i)===c?r.call(o,{name:"email",hash:{},data:a,loc:{start:{line:7,column:0},end:{line:7,column:11}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"phone")||(null!=e?p(e,"phone"):e))?r:i)===c?r.call(o,{name:"phone",hash:{},data:a,loc:{start:{line:8,column:0},end:{line:8,column:11}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"password")||(null!=e?p(e,"password"):e))?r:i)===c?r.call(o,{name:"password",hash:{},data:a,loc:{start:{line:9,column:0},end:{line:9,column:14}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"repeated_password")||(null!=e?p(e,"repeated_password"):e))?r:i)===c?r.call(o,{name:"repeated_password",hash:{},data:a,loc:{start:{line:10,column:0},end:{line:10,column:23}}}):r)?s:"")+"\n<span class="+u(typeof(r=null!=(r=p(n,"className")||(null!=e?p(e,"className"):e))?r:i)===c?r.call(o,{name:"className",hash:{},data:a,loc:{start:{line:11,column:12},end:{line:11,column:25}}}):r)+"__error> "+(null!=(s=typeof(r=null!=(r=p(n,"serverError")||(null!=e?p(e,"serverError"):e))?r:i)===c?r.call(o,{name:"serverError",hash:{},data:a,loc:{start:{line:11,column:34},end:{line:11,column:51}}}):r)?s:"")+" </span>\n"+(null!=(s=typeof(r=null!=(r=p(n,"sign-up")||(null!=e?p(e,"sign-up"):e))?r:i)===c?r.call(o,{name:"sign-up",hash:{},data:a,loc:{start:{line:12,column:0},end:{line:12,column:13}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"sign-in")||(null!=e?p(e,"sign-in"):e))?r:i)===c?r.call(o,{name:"sign-in",hash:{},data:a,loc:{start:{line:13,column:0},end:{line:13,column:13}}}):r)?s:"")+"\n\n"},useData:!0})},9863:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<input name="+(null!=(s=typeof(r=null!=(r=p(n,"name")||(null!=e?p(e,"name"):e))?r:i)===c?r.call(o,{name:"name",hash:{},data:a,loc:{start:{line:1,column:12},end:{line:1,column:22}}}):r)?s:"")+' value="'+(null!=(s=typeof(r=null!=(r=p(n,"value")||(null!=e?p(e,"value"):e))?r:i)===c?r.call(o,{name:"value",hash:{},data:a,loc:{start:{line:1,column:30},end:{line:1,column:41}}}):r)?s:"")+'" placeholder="'+(null!=(s=typeof(r=null!=(r=p(n,"placeholder")||(null!=e?p(e,"placeholder"):e))?r:i)===c?r.call(o,{name:"placeholder",hash:{},data:a,loc:{start:{line:1,column:56},end:{line:1,column:73}}}):r)?s:"")+'" class='+u(typeof(r=null!=(r=p(n,"class")||(null!=e?p(e,"class"):e))?r:i)===c?r.call(o,{name:"class",hash:{},data:a,loc:{start:{line:1,column:81},end:{line:1,column:90}}}):r)+"__input />\n<span class="+u(typeof(r=null!=(r=p(n,"class")||(null!=e?p(e,"class"):e))?r:i)===c?r.call(o,{name:"class",hash:{},data:a,loc:{start:{line:2,column:12},end:{line:2,column:21}}}):r)+"__loup></span>\n"},useData:!0})},4053:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h1>"+(null!=(s=typeof(r=null!=(r=u(n,"code")||(null!=e?u(e,"code"):e))?r:i)===c?r.call(o,{name:"code",hash:{},data:a,loc:{start:{line:1,column:4},end:{line:1,column:14}}}):r)?s:"")+"</h1>\n<p>"+(null!=(s=typeof(r=null!=(r=u(n,"message")||(null!=e?u(e,"message"):e))?r:i)===c?r.call(o,{name:"message",hash:{},data:a,loc:{start:{line:2,column:3},end:{line:2,column:16}}}):r)?s:"")+"</p>\n"+(null!=(s=typeof(r=null!=(r=u(n,"link")||(null!=e?u(e,"link"):e))?r:i)===c?r.call(o,{name:"link",hash:{},data:a,loc:{start:{line:3,column:0},end:{line:3,column:10}}}):r)?s:"")+"\n"},useData:!0})},9545:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s;return"  "+(null!=(s=t.lambda(e,e))?s:"")+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<div>\n"+(null!=(s=u(n,"each").call(o,null!=e?u(e,"links"):e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:2,column:2},end:{line:4,column:11}}}))?s:"")+"</div>\n"+(null!=(s=typeof(r=null!=(r=u(n,"title")||(null!=e?u(e,"title"):e))?r:i)===c?r.call(o,{name:"title",hash:{},data:a,loc:{start:{line:6,column:0},end:{line:6,column:11}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=u(n,"content")||(null!=e?u(e,"content"):e))?r:i)===c?r.call(o,{name:"content",hash:{},data:a,loc:{start:{line:7,column:0},end:{line:7,column:13}}}):r)?s:"")+"\n"},useData:!0})},7050:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return' autofocus="'+(null!=(s="function"==typeof(r=null!=(r=o(n,"autofocus")||(null!=e?o(e,"autofocus"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"autofocus",hash:{},data:a,loc:{start:{line:1,column:39},end:{line:1,column:54}}}):r)?s:"")+'" '},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<textarea "+(null!=(s=u(n,"if").call(o,null!=e?u(e,"autofocus"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:1,column:10},end:{line:1,column:63}}}))?s:"")+" name="+(null!=(s=typeof(r=null!=(r=u(n,"name")||(null!=e?u(e,"name"):e))?r:i)===c?r.call(o,{name:"name",hash:{},data:a,loc:{start:{line:1,column:69},end:{line:1,column:79}}}):r)?s:"")+" >"+(null!=(s=typeof(r=null!=(r=u(n,"text")||(null!=e?u(e,"text"):e))?r:i)===c?r.call(o,{name:"text",hash:{},data:a,loc:{start:{line:1,column:81},end:{line:1,column:91}}}):r)?s:"")+"</textarea>\n<span>"+(null!=(s=typeof(r=null!=(r=u(n,"error")||(null!=e?u(e,"error"):e))?r:i)===c?r.call(o,{name:"error",hash:{},data:a,loc:{start:{line:2,column:6},end:{line:2,column:17}}}):r)?s:"")+"</span>\n"},useData:!0})},749:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<input type="checkbox" value="'+(null!=(s=typeof(r=null!=(r=p(n,"id")||(null!=e?p(e,"id"):e))?r:i)===c?r.call(o,{name:"id",hash:{},data:a,loc:{start:{line:1,column:30},end:{line:1,column:38}}}):r)?s:"")+'" />\n'+u(typeof(r=null!=(r=p(n,"first_name")||(null!=e?p(e,"first_name"):e))?r:i)===c?r.call(o,{name:"first_name",hash:{},data:a,loc:{start:{line:2,column:0},end:{line:2,column:14}}}):r)+"\n"+u(typeof(r=null!=(r=p(n,"second_name")||(null!=e?p(e,"second_name"):e))?r:i)===c?r.call(o,{name:"second_name",hash:{},data:a,loc:{start:{line:3,column:0},end:{line:3,column:15}}}):r)+"\n(@ "+u(typeof(r=null!=(r=p(n,"login")||(null!=e?p(e,"login"):e))?r:i)===c?r.call(o,{name:"login",hash:{},data:a,loc:{start:{line:4,column:3},end:{line:4,column:12}}}):r)+" )\n"},useData:!0})},8618:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({1:function(t,e,n,l,a){var s,r,o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  "+(null!=(s="function"==typeof(r=null!=(r=o(n,"newChatPopup")||(null!=e?o(e,"newChatPopup"):e))?r:t.hooks.helperMissing)?r.call(null!=e?e:t.nullContext||{},{name:"newChatPopup",hash:{},data:a,loc:{start:{line:5,column:2},end:{line:5,column:20}}}):r)?s:"")+"\n"},3:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"  "+(null!=(s=typeof(r=null!=(r=u(n,"header")||(null!=e?u(e,"header"):e))?r:i)===c?r.call(o,{name:"header",hash:{},data:a,loc:{start:{line:7,column:2},end:{line:7,column:14}}}):r)?s:"")+"\n  "+(null!=(s=typeof(r=null!=(r=u(n,"messageList")||(null!=e?u(e,"messageList"):e))?r:i)===c?r.call(o,{name:"messageList",hash:{},data:a,loc:{start:{line:8,column:2},end:{line:8,column:19}}}):r)?s:"")+"\n  "+(null!=(s=typeof(r=null!=(r=u(n,"message")||(null!=e?u(e,"message"):e))?r:i)===c?r.call(o,{name:"message",hash:{},data:a,loc:{start:{line:9,column:2},end:{line:9,column:15}}}):r)?s:"")+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(s="function"==typeof(r=null!=(r=i(n,"sidebar")||(null!=e?i(e,"sidebar"):e))?r:t.hooks.helperMissing)?r.call(o,{name:"sidebar",hash:{},data:a,loc:{start:{line:1,column:0},end:{line:1,column:13}}}):r)?s:"")+"\n<div class="+(null!=(s=t.lambda(null!=(s=null!=e?i(e,"style"):e)?i(s,"wrapper"):s,e))?s:"")+">\n\n"+(null!=(s=i(n,"if").call(o,null!=e?i(e,"isOpenAddNewChatModal"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a,loc:{start:{line:4,column:2},end:{line:10,column:9}}}))?s:"")+"</div>\n"},useData:!0})},5182:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>\n  "+u(typeof(r=null!=(r=p(n,"title")||(null!=e?p(e,"title"):e))?r:i)===c?r.call(o,{name:"title",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:11}}}):r)+"\n</h2>\n"+(null!=(s=typeof(r=null!=(r=p(n,"oldPassword")||(null!=e?p(e,"oldPassword"):e))?r:i)===c?r.call(o,{name:"oldPassword",hash:{},data:a,loc:{start:{line:4,column:0},end:{line:4,column:17}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"password")||(null!=e?p(e,"password"):e))?r:i)===c?r.call(o,{name:"password",hash:{},data:a,loc:{start:{line:5,column:0},end:{line:5,column:14}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"repeated_password")||(null!=e?p(e,"repeated_password"):e))?r:i)===c?r.call(o,{name:"repeated_password",hash:{},data:a,loc:{start:{line:6,column:0},end:{line:6,column:23}}}):r)?s:"")+"\n<span class="+u(typeof(r=null!=(r=p(n,"className")||(null!=e?p(e,"className"):e))?r:i)===c?r.call(o,{name:"className",hash:{},data:a,loc:{start:{line:7,column:12},end:{line:7,column:25}}}):r)+"__error> "+(null!=(s=typeof(r=null!=(r=p(n,"serverError")||(null!=e?p(e,"serverError"):e))?r:i)===c?r.call(o,{name:"serverError",hash:{},data:a,loc:{start:{line:7,column:34},end:{line:7,column:51}}}):r)?s:"")+" </span>\n<span class="+u(typeof(r=null!=(r=p(n,"className")||(null!=e?p(e,"className"):e))?r:i)===c?r.call(o,{name:"className",hash:{},data:a,loc:{start:{line:8,column:12},end:{line:8,column:25}}}):r)+"__success>Пароль успешно изменен!</span>\n"+(null!=(s=typeof(r=null!=(r=p(n,"button")||(null!=e?p(e,"button"):e))?r:i)===c?r.call(o,{name:"button",hash:{},data:a,loc:{start:{line:9,column:0},end:{line:9,column:12}}}):r)?s:"")+"\n\n\n"},useData:!0})},6131:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.escapeExpression,p=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>\n  "+u(typeof(r=null!=(r=p(n,"title")||(null!=e?p(e,"title"):e))?r:i)===c?r.call(o,{name:"title",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:11}}}):r)+"\n</h2>\n"+(null!=(s=typeof(r=null!=(r=p(n,"first_name")||(null!=e?p(e,"first_name"):e))?r:i)===c?r.call(o,{name:"first_name",hash:{},data:a,loc:{start:{line:4,column:0},end:{line:4,column:16}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"second_name")||(null!=e?p(e,"second_name"):e))?r:i)===c?r.call(o,{name:"second_name",hash:{},data:a,loc:{start:{line:5,column:0},end:{line:5,column:17}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"login")||(null!=e?p(e,"login"):e))?r:i)===c?r.call(o,{name:"login",hash:{},data:a,loc:{start:{line:6,column:0},end:{line:6,column:11}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"display_name")||(null!=e?p(e,"display_name"):e))?r:i)===c?r.call(o,{name:"display_name",hash:{},data:a,loc:{start:{line:7,column:0},end:{line:7,column:18}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"email")||(null!=e?p(e,"email"):e))?r:i)===c?r.call(o,{name:"email",hash:{},data:a,loc:{start:{line:8,column:0},end:{line:8,column:11}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"phone")||(null!=e?p(e,"phone"):e))?r:i)===c?r.call(o,{name:"phone",hash:{},data:a,loc:{start:{line:9,column:0},end:{line:9,column:11}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=p(n,"password")||(null!=e?p(e,"password"):e))?r:i)===c?r.call(o,{name:"password",hash:{},data:a,loc:{start:{line:10,column:0},end:{line:10,column:14}}}):r)?s:"")+"\n<span class="+u(typeof(r=null!=(r=p(n,"className")||(null!=e?p(e,"className"):e))?r:i)===c?r.call(o,{name:"className",hash:{},data:a,loc:{start:{line:11,column:12},end:{line:11,column:25}}}):r)+"__error> "+(null!=(s=typeof(r=null!=(r=p(n,"serverError")||(null!=e?p(e,"serverError"):e))?r:i)===c?r.call(o,{name:"serverError",hash:{},data:a,loc:{start:{line:11,column:34},end:{line:11,column:51}}}):r)?s:"")+" </span>\n"+(null!=(s=typeof(r=null!=(r=p(n,"button")||(null!=e?p(e,"button"):e))?r:i)===c?r.call(o,{name:"button",hash:{},data:a,loc:{start:{line:12,column:0},end:{line:12,column:12}}}):r)?s:"")+"\n"},useData:!0})},2760:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>\n  "+t.escapeExpression(typeof(r=null!=(r=u(n,"title")||(null!=e?u(e,"title"):e))?r:i)===c?r.call(o,{name:"title",hash:{},data:a,loc:{start:{line:2,column:2},end:{line:2,column:11}}}):r)+"\n</h2>\n"+(null!=(s=typeof(r=null!=(r=u(n,"image")||(null!=e?u(e,"image"):e))?r:i)===c?r.call(o,{name:"image",hash:{},data:a,loc:{start:{line:4,column:0},end:{line:4,column:11}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=u(n,"avatar")||(null!=e?u(e,"avatar"):e))?r:i)===c?r.call(o,{name:"avatar",hash:{},data:a,loc:{start:{line:5,column:0},end:{line:5,column:12}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=u(n,"button")||(null!=e?u(e,"button"):e))?r:i)===c?r.call(o,{name:"button",hash:{},data:a,loc:{start:{line:6,column:0},end:{line:6,column:12}}}):r)?s:"")+"\n"+(null!=(s=typeof(r=null!=(r=u(n,"save-avatar")||(null!=e?u(e,"save-avatar"):e))?r:i)===c?r.call(o,{name:"save-avatar",hash:{},data:a,loc:{start:{line:7,column:0},end:{line:7,column:17}}}):r)?s:"")+"\n"},useData:!0})},4766:(t,e,n)=>{var l=n(202);t.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var s,r,o=null!=e?e:t.nullContext||{},i=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"\t<div>\n  <h1>Настройки профиля</h1>\n  <h3>"+(null!=(s=typeof(r=null!=(r=u(n,"exit")||(null!=e?u(e,"exit"):e))?r:i)===c?r.call(o,{name:"exit",hash:{},data:a,loc:{start:{line:3,column:6},end:{line:3,column:16}}}):r)?s:"")+"</h3>\n  </div>\n  "+(null!=(s=typeof(r=null!=(r=u(n,"toChats")||(null!=e?u(e,"toChats"):e))?r:i)===c?r.call(o,{name:"toChats",hash:{},data:a,loc:{start:{line:5,column:2},end:{line:5,column:15}}}):r)?s:"")+"\n\t"+(null!=(s=typeof(r=null!=(r=u(n,"tabs")||(null!=e?u(e,"tabs"):e))?r:i)===c?r.call(o,{name:"tabs",hash:{},data:a,loc:{start:{line:6,column:1},end:{line:6,column:11}}}):r)?s:"")+"\n"},useData:!0})},7099:(t,e,n)=>{"use strict";var l=n(8618),a=n.n(l),s=n(4090),r=n.n(s);const o="kW0EfFyEAejFjcWM8nAA",i="BEl2YOhDubLyvB_wXbg6";var c=n(8721);const u=["[A-ZА-ЯЁ][a-zA-Zа-яА-ЯёЁ -]","Значение должно начинаться с заглавной буквы, может содержать буквы и дефис"],p=["^[a-zA-Z][a-zA-Z0-9-_]{3,20}$","Логин дожен состоять из латинских букв, может содержать цифры. Длина логина от 3 до 20 символов"],h=[".+@[^@]+[a-z]+.[^@]{2,}$","Введите корректный email"],d=["^(?=.*[A-Z])(?=.*[0-9]).{8,40}","Введите пароль длиной от 8 до 40 символов, содержащий хотя бы одну заглавную букву и одну цифру"],m=["^[+]{0,1}[0-9]{11,15}$","Введите телефон, длиной от 10 до 15 цифр без пробелов"],f=["^(?!s*$).+","Сообщение не должно быть пустым!"],v=t=>"password"in t&&"repeated_password"in t&&t.password===t.repeated_password;function y(t){return function(t){return"object"==typeof t&&null!==t&&t.constructor===Object&&"[object Object]"===Object.prototype.toString.call(t)}(t)}function g(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const[n,l]of Object.entries(t)){const t=e[n];if(Array.isArray(l)&&y(t)){if(g(l,t))continue;return!1}if(l!==t)return!1}return!0}class b{constructor(){this.listeners={}}on(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}off(t,e){if(!this.listeners[t])throw new Error(`Нет события: ${t}`);this.listeners[t]=this.listeners[t].filter((t=>t!==e))}emit(t,...e){if(!this.listeners[t])throw new Error(`Нет события: ${t}`);this.listeners[t].forEach((t=>{t(...e)}))}}class O{constructor(t="div",e={}){this.id=(0,c.Z)(),this._state={};const n=new b,{props:l,children:a}=this._getChildrenAndProps(e);this._meta={tagName:t,propsWithChildren:e},this.children=this._makePropsProxy(a),this.props=this._makePropsProxy(l),this.eventBus=()=>n,this._registerEvents(n),n.emit(O.EVENTS.INIT)}initChildren(){}_getChildrenAndProps(t){const e={},n={};return Object.entries(t).forEach((([t,l])=>{l instanceof O||l instanceof Array?n[t]=l:e[t]=l})),{props:e,children:n}}_registerEvents(t){t.on(O.EVENTS.INIT,this._init.bind(this)),t.on(O.EVENTS.FLOW_CDM,this._componentDidMount.bind(this)),t.on(O.EVENTS.FLOW_CDU,this._componentDidUpdate.bind(this)),t.on(O.EVENTS.FLOW_RENDER,this._render.bind(this))}_makePropsProxy(t){return new Proxy(t,{get(t,e){const n=t[e];return"function"==typeof n?n.bind(t):n},set:(t,e,n)=>(Reflect.set(t,e,n),this.eventBus().emit(O.EVENTS.FLOW_CDU),!0),deleteProperty(){throw new Error("нет доступа")}})}get element(){return this._element}get state(){return this._state}set state(t){this._state=t}getContent(){var t,e;return(null===(e=null===(t=this.element)||void 0===t?void 0:t.parentNode)||void 0===e?void 0:e.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&setTimeout((()=>{var t,e;(null===(e=null===(t=this.element)||void 0===t?void 0:t.parentNode)||void 0===e?void 0:e.nodeType)!==Node.DOCUMENT_FRAGMENT_NODE&&this.eventBus().emit(O.EVENTS.FLOW_CDM)}),10),this.element}_init(){this._createResources(),this.eventBus().emit(O.EVENTS.FLOW_RENDER)}_createResources(){this._element=this._createDocumentElement(this._meta.tagName)}_createDocumentElement(t){return document.createElement(t)}_render(){this.initChildren();const t=this.render();this._removeEventListeners(),this._element.innerHTML="",this._element.append(t),this.addAttribute(null),this.addGlobalEvents(),this._addEvents()}render(){return new DocumentFragment}init(){}_addEvents(){const{events:t={}}=this.props;t&&Object.entries(t).forEach((([t,e])=>{this._element.addEventListener(t,e)}))}addAttribute(t){const e={type:this.props.type||null,class:this.props.class||null,href:this.props.href||null,active:this.props.active||null,autofocus:this.props.autofocus||null,src:this.props.src||null,alt:this.props.alt||null,id:this.props.id||null};Object.entries(Object.assign(Object.assign({},e),t)).forEach((([t,e])=>{e&&this.element.setAttribute(t,e)}))}addGlobalEvents(){}_removeEventListeners(){const{events:t}=this.props;t&&Object.entries(t).forEach((([t,e])=>{this._element.removeEventListener(t,e)}))}_componentDidMount(){this.componentDidMount()}componentDidMount(){}dispatchComponentDidMount(){this.eventBus().emit(O.EVENTS.FLOW_CDM),Object.values(this.children).forEach((t=>t.dispatchComponentDidMount()))}_componentDidUpdate(){this.componentDidUpdate()&&this.eventBus().emit(O.EVENTS.FLOW_RENDER)}componentDidUpdate(t={}){return!t.oldProps||!t.newProps||!g(t.oldProps,t.newProps)}setProps(t){t&&(Object.assign(this.props,this.children,t),this._state=t,this.eventBus().emit(O.EVENTS.FLOW_CDU))}compile(t,e){const n=Object.assign({},e);Object.entries(this.children).forEach((([t,e])=>{Array.isArray(e)?n[t]=e.map((t=>`<div data-id="${t.id}"></div>`)):n[t]=`<div data-id="${e.id}"></div>`}));const l=t(n),a=document.createElement("template");a.innerHTML=l;const s=t=>{var e;const n=a.content.querySelector(`[data-id="${t.id}"]`);n&&(null===(e=t.getContent())||void 0===e||e.append(...Array.from(n.childNodes)),n.replaceWith(t.getContent()))};return Object.entries(this.children).forEach((([t,e])=>{Array.isArray(e)?e.forEach(s):s(e)})),a.content}show(){this.getContent()&&(this.getContent().style.display="block")}hide(){this.getContent()&&(this.getContent().style.display="none")}}O.EVENTS={INIT:"init",FLOW_CDM:"flow:component-did-mount",FLOW_RENDER:"flow:render",FLOW_CDU:"flow:component-did-update"};const w=O;var x=n(3722),P=n.n(x),E=n(159),C=n.n(E);const j={link:"arJcwWaLrbjJqnz1JNys",link_profile:"vDs02jGcVGtDkqURV_os",link_settings:"nXyTn9FH0JFLRSeOt9tT",link_tabs:"q6DvXnMDMPvMl3W83p1v"},_={getClassWithPrefix:(t,e,n)=>n?` ${t[`${e}_${n}`]}`:null},k={home:"/",chats:"/messenger",chat:"/chat",setting:"/settings",setRegInfo:"/settings/reg-info",setAvatar:"/settings/avatar",setSafety:"/settings/safety",authorization:"/sign-in",registration:"/sign-up",serverError:"/error",notFound:"/not-found"},M="Введите корректный пароль",S="https://ya-praktikum.tech/api/v2";const A=class{constructor(t,e,n="root"){this._pathname=t,this._blockClass=e,this._rootQuery=n}navigate(t){this.match(t)&&(this._pathname=t,this.render())}leave(){this._block&&(this._block=null)}match(t){return e=t,n=this._pathname,e===n;var e,n}render(){this._block=this._blockClass,function(t,e){const n=document.getElementById(e);n.innerHTML="",n.appendChild(t.getContent())}(this._block,this._rootQuery)}};class D{constructor(){if(D.__instance)return D.__instance;this.routes=[],this.history=window.history,this._currentRoute=null,D.__instance=this}use(t,e){const n=new A(t,e);return this.routes.unshift(n),this}start(){window.onpopstate=t=>{const e=t.currentTarget;e&&this._onRoute(e.location.pathname)},this._onRoute(window.location.pathname)}_onRoute(t){const e=this.getRoute(t);e&&(this._currentRoute&&this._currentRoute!==e&&this._currentRoute.leave(),this._currentRoute=e,e.render())}go(t){this.history.pushState({},"",t),this._onRoute(t)}getRoute(t){return this.routes.find((e=>e.match(t)))||this.routes.find((t=>t.match(k.notFound)))}}const N=new D;var U=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};const T=(R=class extends w{constructor(t){var{stylePrefix:e=null}=t,n=U(t,["stylePrefix"]);super("button",Object.assign({class:`${j.link} ${_.getClassWithPrefix(j,"link",e)}`,events:{click:()=>this.navigate()}},n))}initChildren(){this.children=Object.assign(Object.assign({},this.children),{router:this.props.router})}navigate(){this.children.router.go(this.props.href)}render(){return this.compile(C(),this.props)}},class extends R{constructor(t){super(Object.assign(Object.assign({},t),{router:N}))}});var R,I=n(9863),L=n.n(I);const V="OWZcnbKGig0H019ssyVv";var F=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};class W extends w{constructor(t){var{events:e={input:t=>{console.log(t.target.value)}}}=t,n=F(t,["events"]);super("div",Object.assign({class:V,events:e},n))}render(){return this.compile(L(),this.props)}}var $=n(7640),B=n.n($);const H={button:"wpj84BbdxhdGDOzrwFjB",button_save:"pe0K82v7gbJmA_0tR0yX",button_cross:"YbhzuFQylNtkaPj3Pwx0",button_submit:"b6BeU0yx1XlO2HhZx36I",button_search:"_N0Vv1DavNdBkCXP8fqb","button_save-avatar":"RvXN630CrWxwD9vLeOoQ",button_withArrow:"Q6xU69cNboHkAoz94o7p",button_sidebar:"RZvpzYuTellzd0gC_jgR",button_logout:"RJiswzVQBsrbSX3xTtw7"};var z,G=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};class J extends w{constructor(t){var{stylePrefix:e=null,type:n="submit",events:l={click:t=>{t.preventDefault()}}}=t,a=G(t,["stylePrefix","type","events"]);super("button",Object.assign({type:n,class:`${H.button} ${_.getClassWithPrefix(H,"button",e)}`,events:l},a))}render(){return this.compile(B(),this.props)}}!function(t){t.Updated="updated",t.Remove="remove"}(z||(z={}));class q extends b{constructor(){return q._instance||(super(),this.state={isOpenAddNewChatModal:!0,chatsData:[]},q._instance=this),q._instance}getState(){return this.state}removeState(){this.state={},this.emit(z.Updated),this.emit(z.Remove)}set(t){const e=Object.assign({},this.state);this.state=Object.assign(Object.assign({},e),t),this.emit(z.Updated)}}const Z=new q;class Q extends w{constructor(t){super("div",{class:t.class})}initChildren(){this.children=Object.assign({button:new J({text:"Создать чат",stylePrefix:"sidebar",type:"button",events:{click:()=>{Z.set({activeChat:null}),Z.set({isOpenAddNewChatModal:!0})}}}),link:new T({href:k.setting,text:"Профиль &#62",stylePrefix:"profile"}),search:new W({placeholder:"Поиск",name:"search"})},this.children)}render(){return this.compile(P(),this.props)}}function Y(t,e,n,l){return new class extends e{constructor(t,e){let l;l=n(Z.getState()),super(t,Object.assign(Object.assign({},e),l)),Z.on(z.Updated,(()=>{const t=n(Z.getState());g(l,t)||(l=t,this.setProps(Object.assign({},t)))}))}}(t,l)}const X=t=>{const e=new Date(t),n=new Intl.DateTimeFormat("ru",{dateStyle:"short",timeStyle:"short"}).format(e);return String(n)};var K=n(682),tt=n.n(K);const et={chatItem:"cH6UJGPd0PEiZTTWKxZq",chatItem__avatar:"vEHJ3ZHDYYDQ6PLFE5lm",title:"k8phWJ_Uv7EqVfpnFEUr",text:"QZnpsDOsWUndA71fC8or",count:"gOatxZ7WwpOmuN20Yq8H",column:"m5J6rzBpw386cRlRL2sL",time:"GIJfbmRXsgtsKPP96Rso"};var nt=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const lt={GET:"GET",PUT:"PUT",POST:"POST",DELETE:"DELETE"};class at{constructor(t){this.get=(t,e={})=>nt(this,void 0,void 0,(function*(){return this.request(t,Object.assign(Object.assign({},e),{method:lt.GET}))})),this.post=(t,e={})=>this.request(t,Object.assign(Object.assign({},e),{method:lt.POST})),this.put=(t,e={})=>this.request(t,Object.assign(Object.assign({},e),{method:lt.PUT})),this.delete=(t,e={})=>this.request(t,Object.assign(Object.assign({},e),{method:lt.DELETE})),this.request=(t,e)=>{const{method:n=lt.GET,data:l,headers:a,isFormData:s=!1}=e,r=l&&n===lt.GET?function(t){if(!t)return!1;const e=Object.keys(t);return Object.keys(t).reduce(((n,l,a)=>`${n}${l}=${t[l]}${a<e.length-1?"&":""}`),"?")}(l):"";return new Promise(((o,i)=>{const c=new XMLHttpRequest;c.open(n,this.url+t+r),a&&Object.keys(a).length&&Object.entries(a).forEach((([t,e])=>{c.setRequestHeader(t,e)})),s||c.setRequestHeader("Content-Type","application/json"),c.onload=function(){500===c.status&&i({message:"Ошибка сервера!",status:c.status}),500!==c.status&&c.status>=400?i({message:c.response.reason,status:c.status}):o(c.response)},c.onabort=()=>i({reason:"abort"}),c.onerror=()=>i({message:c.response.reason,status:c.response.status}),c.ontimeout=()=>i({reason:"timeout"}),c.withCredentials=!0,c.responseType="json",n!==lt.GET&&l?(null==e?void 0:e.isFormData)?(console.log(l),c.send(l)):c.send(JSON.stringify(l)):c.send()}))},this.url=`${at.API_URL}${t}`}}at.API_URL=S;class st{constructor(t){this.http=new at(t)}}var rt=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const ot=new class extends st{constructor(){super("/chats"),this.create=void 0,this.update=void 0,this.delete=void 0,this.read=void 0}createChat(t){return rt(this,void 0,void 0,(function*(){return this.http.post("",{data:{title:t}})}))}getChats(){return rt(this,void 0,void 0,(function*(){return this.http.get("").then((t=>t))}))}deleteChat(t){return this.http.delete("",{data:{chatId:t}})}addUsers(t,e){return this.http.put("/users",{data:{users:[...t],chatId:e}})}deleteUsers(t,e){return this.http.delete("/users",{data:{users:t,chatId:e}})}getNewMessagesCount(t){return this.http.get(`/new/${t}`)}getChatToken(t){return this.http.post(`/token/${t}`)}getUsersByChat(t){return rt(this,void 0,void 0,(function*(){return this.http.get(`/${t}/users`,{})}))}};var it=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};class ct extends b{constructor(t){super(),this.wsURL=t,this.connection=null,this.connectWS()}connectWS(){this.connection=new WebSocket(this.wsURL),this.registerEvents(),this.registerWSEvents(this.connection)}registerEvents(){this.on(ct.EVENTS.CONNECTED,(()=>this.loadChat())),this.on(ct.EVENTS.ERROR,(t=>{console.error("Ошибка",t)}))}registerWSEvents(t){t.onopen=()=>{this.emit(ct.EVENTS.CONNECTED)},t.onmessage=t=>{const e=JSON.parse(t.data);e.type&&"pong"===e.type||this.emit(ct.EVENTS.GET_MESSAGE,e)},t.onclose=()=>{this.emit(ct.EVENTS.CLOSE)},t.onerror=t=>{this.emit(ct.EVENTS.ERROR,t)}}close(t,e){if(!this.connection)throw new Error("WS соединение не установлено");this.connection.close(t,e)}loadChat(){return it(this,void 0,void 0,(function*(){yield this.ping(),this.getOldMessages()}))}ping(){return it(this,void 0,void 0,(function*(){let t=setInterval((()=>{if(!this.connection)throw new Error("WS соединение не установлено");this.connection.send(JSON.stringify({type:"ping"}))}),1e4);this.on(ct.EVENTS.CLOSE,(()=>{clearInterval(t),t=void 0}))}))}getOldMessages(t=0){return it(this,void 0,void 0,(function*(){if(!this.connection)throw new Error("WS соединение не установлено");yield this.connection.send(JSON.stringify({content:t,type:"get old"}))}))}sendMessage(t){if(!this.connection)throw new Error("WS соединение не установлено");this.connection.send(JSON.stringify({content:t,type:"message"}))}getSocket(){return this.connection&&this.connection.readyState!==this.connection.CLOSED||this.connectWS(),this}}ct.EVENTS={OPEN:"open",CONNECTED:"connected",MESSAGE:"message",GET_MESSAGE:"get-message",ERROR:"error",CLOSE:"close"};var ut=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const pt={},ht=t=>ut(void 0,void 0,void 0,(function*(){var e;if(!t)return new Error("Ошибка WS соединения");if(pt&&pt[t])return yield pt[t].getSocket().getOldMessages(),pt[t].getSocket();const n=yield mt.getToken(t);if(!n)return new Error("Ошибка WS соединения");const l=Z.getState();if(!("user"in l))return new Error("Ошибка WS соединения");const a=`wss://ya-praktikum.tech/ws/chats//${null===(e=l.user)||void 0===e?void 0:e.id}/${t}/${n}`,s=yield new ct(a);return s.on(ct.EVENTS.GET_MESSAGE,(t=>(t=>{mt.getMessagesOfChat(t)})(t))),s.on(ct.EVENTS.CLOSE,(()=>{delete pt[t]})),pt[t]=s,pt[t].getSocket()}));var dt=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const mt=new class{constructor(){this.api=ot}getChats(){return dt(this,void 0,void 0,(function*(){const t=yield this.api.getChats(),e=Z.getState();if("activeChat"in e&&e.activeChat&&"id"in e.activeChat){const n=t.filter((t=>t.id===e.activeChat.id))[0];Z.set({activeChat:n}),n||Z.set({isOpenAddNewChatModal:!0})}return Z.set({chats:t}),t}))}createChat(t){return dt(this,void 0,void 0,(function*(){const{title:e}=t;try{const t=yield this.api.createChat(e),n=(yield this.getChats()).filter((e=>e.id===t.id))[0];Z.set({activeChat:n}),Z.set({isOpenAddNewChatModal:!1}),Z.set({isOpenHeaderMenuModal:!1}),Z.set({chatsData:[]})}catch(t){console.error("createChat:",t)}}))}deleteChatById(){var t;return dt(this,void 0,void 0,(function*(){const e=Z.getState();if("activeChat"in e&&e.activeChat&&"id"in e.activeChat){const n=null===(t=e.activeChat)||void 0===t?void 0:t.id;try{yield this.api.deleteChat(n),Z.set({isOpenAddNewChatModal:!0}),Z.set({isOpenHeaderMenuModal:!1}),Z.set({activeChat:null}),this.getChats()}catch(t){console.error("deleteChatById:",t)}}}))}addUsersToChat(t){return dt(this,void 0,void 0,(function*(){const e=Z.getState();if("activeChat"in e){const n=e.activeChat.id;try{yield this.api.addUsers(t,n),yield this.getChats(),yield this.getUsersByChat(n),Z.set({isOpenAddUserModal:!1})}catch(t){console.error("addUsersToChat:",t)}}}))}deleteUsersFromChat(t){return dt(this,void 0,void 0,(function*(){const e=Z.getState();if("activeChat"in e){const n=e.activeChat.id;try{yield this.api.deleteUsers(t,n),yield this.getChats(),yield this.getUsersByChat(n),Z.set({isOpenDeleteUserModal:!1}),Z.set({isOpenHeaderMenuModal:!1}),e.chats.includes(e.activeChat)||Z.set({isOpenAddNewChatModal:!0})}catch(t){console.error("deleteUsersFromChat:",t)}}}))}getUsersByChat(t){return dt(this,void 0,void 0,(function*(){return this.api.getUsersByChat(t)}))}getToken(t){return dt(this,void 0,void 0,(function*(){try{return(yield this.api.getChatToken(t)).token}catch(t){return console.error(t),t}}))}getMessagesOfChat(t){return dt(this,void 0,void 0,(function*(){const e=Z.getState();if(!("chatsData"in e)||!("activeChat"in e))return;const n=e.chatsData;let l=[];l=Array.isArray(t)?[...t]:[t,...n],Z.set({chatsData:l})}))}sendMessage(t){var e;return dt(this,void 0,void 0,(function*(){const n=Z.getState();if("activeChat"in n&&n.activeChat&&"id"in n.activeChat){const l=null===(e=n.activeChat)||void 0===e?void 0:e.id,a=yield ht(l);a&&a instanceof ct&&a.sendMessage(t)}}))}getOldMessagesOfChat(t=0){var e;return dt(this,void 0,void 0,(function*(){const n=Z.getState();if("activeChat"in n&&n.activeChat&&"id"in n.activeChat){const l=null===(e=n.activeChat)||void 0===e?void 0:e.id,a=yield ht(l);if(!a)return;a instanceof ct&&a.getOldMessages(t)}}))}};var ft=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))},vt=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};class yt extends w{constructor(t="div",e){var{isActive:n,chatId:l,chats:a}=e,s=vt(e,["isActive","chatId","chats"]);super(t,Object.assign({class:et.chatItem,styles:et,events:{click:t=>ft(this,void 0,void 0,(function*(){const e=null==a?void 0:a.filter((e=>e.id===Number(null==t?void 0:t.currentTarget.getAttribute("data-chatid"))))[0],n=yield mt.getUsersByChat(Number(null==t?void 0:t.currentTarget.getAttribute("data-chatid")));Z.set({isOpenAddNewChatModal:!1}),Z.set({isOpenHeaderMenuModal:!1}),Z.set({activeChat:e}),Z.set({usersOfActiveChat:n}),yield ht(l)}))},active:n},s)),this.addAttribute({"data-chatid":l}),this.addAttribute({active:String(n)})}render(){return this.compile(tt(),this.props)}}var gt=n(1691),bt=n.n(gt);const Ot={image_avatar:"fFjVOo5f3sVzeDkglaLO",image_chatItems:"zbyoc3Ml29umr_UBbJzv"};var wt=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};class xt extends w{constructor(t){var{stylePrefix:e=null,alt:n=""}=t,l=wt(t,["stylePrefix","alt"]);super("img",Object.assign({alt:n,class:`${Ot.image} ${_.getClassWithPrefix(Ot,"image",e)}`},l))}render(){return this.compile(bt(),this.props)}}const Pt=n.p+"static/avatar.b5353c59..jpg",Et=(t,e)=>t.map((t=>{var n,l,a;const s=Number(null==e?void 0:e.id)===Number(t.id),r=t.avatar?`${S}/resources${t.avatar}`:Pt;return o={name:t.title||"",text:(null===(n=t.last_message)||void 0===n?void 0:n.content)||"",time:(null===(l=t.last_message)||void 0===l?void 0:l.time)?X(null===(a=t.last_message)||void 0===a?void 0:a.time):"",avatar:new xt({alt:"аватар",stylePrefix:"chatItems",src:r}),count:s||0===t.unread_count?null:t.unread_count,chatId:t.id,isActive:s},Y("div",yt,(t=>{const{activeChat:e,chats:n}=t;return{activeChat:e,chats:n}}),o);var o}));const Ct=Y("sidebar",class extends w{constructor(t="sidebar",e){super(t,Object.assign({class:o},e)),mt.getChats()}initChildren(){this.children={items:Et(this.state.chats||[],this.state.activeChat),panel:new Q({class:i})}}render(){return this.compile(r(),this.props)}},(t=>{const{chats:e,activeChat:n}=t;return{chats:e,activeChat:n}}));var jt=n(4595),_t=n.n(jt);const kt="uqc6VUTFBJMEQQYE2rOQ";var Mt=n(7050),St=n.n(Mt);const At={wrapper:"mTvs7s23XiQkm4dliukA"};class Dt extends w{constructor(t){super("div",Object.assign({class:`${At.wrapper} ${_.getClassWithPrefix(At,"wrapper",t.stylePrefix||"")}`,events:{input:t=>{this.checkInputValidity(t),this.valueState=t.target.value},change:()=>{this.isValid=!0;const t=this.isValid?"false":"true";this.addAttribute({"data-error":t})}},error:t.textError||""},t)),this.isValid=!0,this.valueState=""}checkInputValidity(t){if(this.props.pattern){const e=new RegExp(this.props.pattern);this.isValid=!!t&&e.test(t.target.value);const n=this.isValid?"false":"true";this.addAttribute({"data-error":n})}}get value(){return this.valueState}render(){return this.compile(St(),this.props)}}const Nt=n.p+"static/clip.ea526168..svg",Ut=n.p+"static/arrow.90b7a734..svg";var Tt=n(4981),Rt=n.n(Tt);const It={fileInput:"AoFZhsiAQa6_ONVy3xxX",fileInput_clip:"M3IkabIIbRcRoO6W0bQv"};var Lt=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};var Vt=n(3957),Ft=n.n(Vt),Wt=n(8615),$t=n.n(Wt);const Bt={field:"nmIf1WbkPDNe2kxsOWwe",field_setting:"nDF30WMwT_xJpfzbhN45"};var Ht=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};class zt extends w{constructor(t){var{type:e="text",stylePrefix:n=null,autofocus:l=null,events:a}=t,s=Ht(t,["type","stylePrefix","autofocus","events"]);super("fieldset",Object.assign({class:s.class?`${s.class}`:`${Bt.field} ${_.getClassWithPrefix(Bt,"field",n)}`,type:e,events:{input:t=>{this.isValid=!0;const e=this.isValid?"false":"true";this.addAttribute({"data-error":e}),this.valueState=t.target.value},change:t=>{this.checkInputValidity(t)}},autofocus:l,error:s.textError||"Ошибка ввода"},s)),this.isValid=!0,this.valueState=this.props.value||""}checkInputValidity(t){const e=new RegExp(this.props.pattern);this.isValid=!!t&&e.test(t.target.value);const n=!this.isValid;this.addAttribute({"data-error":n})}get value(){return this.valueState}render(){return this.compile($t(),this.props)}}const Gt={form:"XveZQ8hiv7X7lfkebKV0",form_tabs:"Amhj8w70F3qVJtsr2KzD",form_popup:"GfrtRyhHIuxUae6H62vz",form_auth:"ybrrMytmZuCdemXYYAQN",form_reg:"A_KbCL9y9OVZVUKnEc4m",form_newChat:"JwcugiOjPmuztYYBo2oA",form__error:"ZSs7GKHqJUiPALIOM1tk",form__success:"n9rExBw61tW38OFrffod"};class Jt extends w{constructor(t="form",e){super(t,Object.assign({class:`${Gt.form} ${_.getClassWithPrefix(Gt,"form",(null==e?void 0:e.stylePrefix)||"")}`,className:Gt.form},e)),this.serverError=null}getValues(){return Object.entries(this.children).reduce(((t,[e,n])=>((n instanceof zt||n instanceof Dt)&&(t=Object.assign(Object.assign({},t),{[e]:n.value})),t)),{})}validateForm(){return Object.entries(this.children).reduce(((t,[e,n])=>{if(n instanceof zt||n instanceof Dt){const e=n.isValid&&""!==n.value;t=t&&e,e||n.checkInputValidity()}return t}),!0)}render(){return this.compile(Ft(),this.props)}}const qt=new Dt({name:"message",autofocus:!0,pattern:f[0],textError:f[1]}),Zt=new class extends w{constructor(t){var{type:e="file",stylePrefix:n=null,text:l="Обзор...",events:a={change:t=>{t.target.files&&this.setProps({fileName:t.target.files[0].name}),t.target.files&&this.setProps({file:t.target.files[0]}),Z.set({avatar:t.target.files[0]}),this.eventBus().emit(w.EVENTS.FLOW_CDU)}}}=t,s=Lt(t,["type","stylePrefix","text","events"]);super("fieldset",Object.assign({type:e,text:l,style:It,class:n?`${It.fileInput} ${_.getClassWithPrefix(It,"fileInput",n)}`:It.fileInput,events:a},s))}render(){return this.compile(Rt(),this.props)}}({text:new xt({src:Nt,stylePrefix:"clip"}),stylePrefix:"clip",type:"file",events:{change:()=>console.log("Выбрать файл")},name:"clipBtn",accept:"video/*, image/*"});const Qt={chats:"fgNVzZJUdN63zwve5cIx",wrapper:"NvRDnA0MkLhbeDe5ivys"};var Yt=n(8109),Xt=n.n(Yt);const Kt="m52v98S2h0SMC720LmeN";class te extends w{constructor(t){super("page",Object.assign({class:Kt},t))}render(){return this.compile(Xt(),this.props)}}var ee=n(5425),ne=n.n(ee);const le=n.p+"static/dots.7f5303f8..svg";var ae=n(9620),se=n.n(ae);const re="Y4TZMU8eUC04BLJoUAm6";var oe=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};class ie extends w{constructor(t="div",e){var{activeChat:n,user:l,isAvailableToDelete:a}=e,s=oe(e,["activeChat","user","isAvailableToDelete"]);super(t,Object.assign({activeChat:n,isAvailableToDelete:a,user:l,class:re},s)),this.setProps({isAvailableToDelete:(null==n?void 0:n.created_by)===(null==l?void 0:l.id)&&!!n})}initChildren(){this.children=Object.assign(Object.assign({},this.children),{addUser:new J({text:"Добавить пользователя",type:"button",events:{click:()=>{Z.set({isOpenAddUserModal:!0}),Z.set({isOpenHeaderMenuModal:!1})}}}),deleteUser:new J({text:"Удалить пользователя",type:"button",events:{click:()=>{Z.set({isOpenDeleteUserModal:!0})}}}),deleteChat:new J({text:"Удалить чат",type:"button",events:{click:()=>{mt.deleteChatById()}}})})}render(){return this.compile(se(),this.props)}}var ce=n(9681),ue=n.n(ce);const pe=n.p+"static/cross.7f61b346..svg";var he=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const de=new class extends st{constructor(){super("/user"),this.create=void 0,this.update=void 0,this.delete=void 0,this.read=void 0}updateUserProfile(t){return he(this,void 0,void 0,(function*(){return this.http.put("/profile",{data:t})}))}updatePassword(t,e){return he(this,void 0,void 0,(function*(){return this.http.put("/password",{data:{oldPassword:t,newPassword:e}})}))}changeAvatar(t){return he(this,void 0,void 0,(function*(){return this.http.put("/profile/avatar",{isFormData:!0,data:t})}))}searchUsers(t){return he(this,void 0,void 0,(function*(){return yield this.http.post("/search",{data:{login:t}})}))}};var me=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const fe=new class{updateUserProfile(t){return me(this,void 0,void 0,(function*(){yield de.updateUserProfile(t).then((t=>Z.set({user:t})))}))}changePassword(t,e){return me(this,void 0,void 0,(function*(){yield de.updatePassword(t,e).then((()=>Z.set({isPasswordSettingsError:null}))).catch((t=>{Z.set({isPasswordSettingsError:t})}))}))}changeAvatar(){return me(this,void 0,void 0,(function*(){const t=new FormData,e=Z.getState();if("avatar"in e){const{avatar:n}=e;t.append("avatar",n,"avatar.png")}const n=yield de.changeAvatar(t);Z.set({avatarName:""}),Z.set({user:n}),Z.set({avatar:`https://ya-praktikum.tech/api/v2/resources${n.avatar}`})}))}searchUsers(t){return me(this,void 0,void 0,(function*(){return de.searchUsers(t).then((t=>t)).catch((t=>(Z.set({isServerError:t}),[])))}))}};var ve=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const ye=new zt({name:"login",label:"Логин",placeholder:"Введите логин пользователя",autofocus:!0,pattern:p[0],textError:p[1]});const ge=Y("form",class extends Jt{constructor(t="form",e){super(t,Object.assign({title:"Добавить пользователя в чат",stylePrefix:"popup",events:{focusin:()=>{this.state.isServerError&&this.addAttribute({"data-server-error":"false"})}}},e)),this.addAttribute({"data-after-search":"false"})}initChildren(){this.children=Object.assign(Object.assign({},this.children),{button:new J({text:"Найти пользователя",type:"button",stylePrefix:"search",events:{click:()=>{this.search()}}}),submitButton:new J({text:"Добавить пользователей",type:"button",stylePrefix:"submit",events:{click:t=>{this.submit(t)}}}),login:ye,closeButton:new J({text:new xt({src:pe,stylePrefix:"cross"}),stylePrefix:"cross",type:"button",events:{click:()=>{this.props.users=null;this.getContent().reset(),Z.set({isOpenAddUserModal:!1}),this.addAttribute({"data-after-search":"false"})}},name:"sendMessage"})})}search(){return ve(this,void 0,void 0,(function*(){const t=this.getValues();fe.searchUsers(null==t?void 0:t.login).then((t=>{this.setProps({users:t}),this.addAttribute({"data-after-search":"true"})}))}))}getCheckboxesValues(){const t=this.getContent(),e=null==t?void 0:t.querySelectorAll("input"),n=[];return null==e||e.forEach((t=>{t.checked&&n.push(Number(t.value))})),n}submit(t){return ve(this,void 0,void 0,(function*(){t.preventDefault();const e=this.getCheckboxesValues();mt.addUsersToChat(e)}))}render(){return this.compile(ue(),this.props)}},(t=>{const{activeChat:e,isOpenAddUserModal:n}=t;return{activeChat:e,isOpenAddUserModal:n}}));var be=n(4802),Oe=n.n(be),we=n(749),xe=n.n(we);class Pe extends w{constructor(t){super("label",t)}render(){return this.compile(xe(),this.props)}}var Ee=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))},Ce=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};const je=Y("form",class extends Jt{constructor(t="form",e){var{usersOfActiveChat:n=[]}=e,l=Ce(e,["usersOfActiveChat"]);super(t,Object.assign({title:"Удалить пользователей из чата",stylePrefix:"popup",usersOfActiveChat:n},l))}initChildren(){var t,e;this.children=Object.assign(Object.assign({},this.children),{users:(e=(null===(t=this.state)||void 0===t?void 0:t.usersOfActiveChat)||[],e.map((t=>new Pe({id:t.id,first_name:t.first_name,second_name:t.second_name,login:t.login})))),button:new J({text:"Удалить выбранных пользователей",type:"button",stylePrefix:"submit",events:{click:t=>{this.submit(t)}}}),closeButton:new J({text:new xt({src:pe,stylePrefix:"cross"}),stylePrefix:"cross",type:"button",events:{click:()=>{Z.set({isOpenDeleteUserModal:!1})}},name:"sendMessage"})})}getCheckboxesValues(){const t=this.getContent(),e=null==t?void 0:t.querySelectorAll("input"),n=[];return null==e||e.forEach((t=>{t.checked&&n.push(Number(t.value))})),n}submit(t){return Ee(this,void 0,void 0,(function*(){t.preventDefault();const e=this.getCheckboxesValues();mt.deleteUsersFromChat(e)}))}render(){return this.compile(Oe(),this.props)}},(t=>{const{activeChat:e,isOpenDeleteUserModal:n,usersOfActiveChat:l}=t;return{activeChat:e,isOpenDeleteUserModal:n,usersOfActiveChat:l}})),_e={header:"_zoJTsFzUr4wVsMio8JD",group:"hrTbBmeP179NTKI5MUKb",name:"dYGzsImEy04zCPncZ2Vh",wrapper:"Mw76OfQ8RuKbUHBs3hYs"};var ke=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};const Me=Y("div",class extends w{constructor(t="div",e){var{activeChat:n,isOpenHeaderMenuModal:l,isOpenAddUserModal:a,isOpenDeleteUserModal:s}=e,r=ke(e,["activeChat","isOpenHeaderMenuModal","isOpenAddUserModal","isOpenDeleteUserModal"]);super(t,Object.assign({class:_e.header,isOpenHeaderMenuModal:l,isOpenDeleteUserModal:s,isOpenAddUserModal:a,activeChat:n,style:_e},r))}initChildren(){var t,e,n,l,a;this.children=Object.assign(Object.assign({},this.children),{avatar:new xt({alt:"аватар",stylePrefix:"chatItems",src:(null===(e=null===(t=this.state)||void 0===t?void 0:t.activeChat)||void 0===e?void 0:e.avatar)?`${S}/resources${null===(l=null===(n=this.state)||void 0===n?void 0:n.activeChat)||void 0===l?void 0:l.avatar}`:Pt}),button:new J({text:new xt({src:le,stylePrefix:"dots"}),stylePrefix:"withArrow",type:"button",events:{click:()=>{var t;Z.set({isOpenHeaderMenuModal:!(null===(t=this.state)||void 0===t?void 0:t.isOpenHeaderMenuModal)})}},name:"sendMessage"}),chatHeaderMenu:Y("div",ie,(t=>{const{activeChat:e,user:n}=t;return{activeChat:e,user:n}}),a),addUserPopup:ge,deleteUserPopup:je})}render(){return this.compile(ne(),this.props)}},(t=>{const{activeChat:e,isOpenHeaderMenuModal:n,isOpenAddUserModal:l,isOpenDeleteUserModal:a}=t;return{activeChat:e,isOpenHeaderMenuModal:n,isOpenAddUserModal:l,isOpenDeleteUserModal:a}}));var Se=n(7899),Ae=n.n(Se);const De="dByHCGN7bajEH6v3Lstr";var Ne=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};class Ue extends Jt{constructor(t){super("form",Object.assign({title:"Вход",class:De},t))}initChildren(){this.children=Object.assign(Object.assign({},this.children),{button:new J({text:"Создать",type:"submit",stylePrefix:"submit",events:{click:t=>{this.submit(t)}}}),titleInput:new zt({name:"title",label:"Введите название нового чата",autofocus:!0})})}submit(t){return Ne(this,void 0,void 0,(function*(){t.preventDefault();const e=this.getValues();if((t=>this.validateForm())()){const{titleInput:t}=e;yield mt.createChat({title:t}),yield mt.getChats()}}))}render(){return this.compile(Ae(),this.props)}}var Te=n(8345),Re=n.n(Te);const Ie="bLl0lbR3BiIUuoFUxAzh",Le="BfZruQpiWKfX7YlviS2W";var Ve=n(9004),Fe=n.n(Ve),We=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};class $e extends w{constructor(t){var{is_read:e}=t,n=We(t,["is_read"]);super("li",Object.assign({class:Le},n)),this.addAttribute({"data-isread":!!e})}render(){return this.compile(Fe(),this.props)}}var Be=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};const He=Y("ul",class extends w{constructor(t="div",e){var{chatsData:n=[]}=e,l=Be(e,["chatsData"]);super(t,Object.assign({class:Ie,chatsData:n},l))}initChildren(){var t,e;this.children=Object.assign(Object.assign({},this.children),{chatsData:(e=(null===(t=this.state)||void 0===t?void 0:t.chatsData)||[],e.map((t=>new $e({id:t.id,chat_id:t.chat_id,content:t.content,is_read:t.is_read,time:X(t.time),user_id:t.user_id}))))})}render(){return this.compile(Re(),this.props)}},(t=>{const{chatsData:e}=t;return{chatsData:e}})),ze=new class extends Jt{constructor(){super("form",{class:`${kt}`})}initChildren(){this.children=Object.assign(Object.assign({},this.children),{addFileInput:Zt,message:qt,sendMessage:new J({text:new xt({src:Ut,stylePrefix:"arrow"}),stylePrefix:"withArrow",type:"button",events:{click:t=>{this.submit(t)}},name:"sendMessage"})})}submit(t){if(t.preventDefault(),this.validateForm()){const{message:t}=this.getValues();mt.sendMessage(t);this.getContent().reset()}}render(){return this.compile(_t(),this.props)}},Ge=Ct,Je=Me;const qe=Y("section",class extends w{constructor(t="section",e){super(t,Object.assign({class:Qt.chats,style:Qt},e))}initChildren(){this.children=Object.assign(Object.assign({},this.children),{newChatPopup:new Ue({})})}render(){return this.compile(a(),this.props)}},(t=>{const{isOpenAddNewChatModal:e}=t;return{isOpenAddNewChatModal:e}}),{sidebar:Ge,messageList:He,message:ze,header:Je}),Ze=new te({content:qe}),Qe=()=>Ze;var Ye=n(411),Xe=n.n(Ye),Ke=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const tn=new class extends st{constructor(){super("/auth"),this.create=void 0,this.update=void 0,this.delete=void 0,this.read=void 0}signin(t){return Ke(this,void 0,void 0,(function*(){return this.http.post("/signin",{data:t})}))}signup(t){return this.http.post("/signup",{data:t})}getUser(){return this.http.get("/user")}logout(){return this.http.post("/logout")}};var en=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const nn=new class{constructor(){this.api=tn}signin(t){return en(this,void 0,void 0,(function*(){yield this.api.signin(t).then((()=>mt.getChats())).then((()=>Z.set({isLogin:!0}))).then((()=>Z.set({isAuthError:null}))).then((()=>this.getUser())).then((()=>N.go(k.chats))).catch((e=>{400===e.status?this.logout().then((()=>{document.cookie="expires=0",this.signin(t).catch((t=>{Z.set({isAuthError:t})}))})):Z.set({isAuthError:e})}))}))}signup(t){return en(this,void 0,void 0,(function*(){try{yield this.api.signup(t),Z.set({isRegistrationError:null}),this.getUser(),mt.getChats(),N.go(k.setting)}catch(t){Z.set({isRegistrationError:t})}}))}getUser(){return en(this,void 0,void 0,(function*(){try{const t=yield this.api.getUser();return Z.set({user:t}),Z.set({avatar:`https://ya-praktikum.tech/api/v2/resources${t.avatar}`}),t}catch(t){return console.error(t),new Error(t)}}))}logout(){return en(this,void 0,void 0,(function*(){try{yield this.api.logout(),Z.set({isLogin:!1}),N.go(k.authorization)}catch(t){console.error(t)}}))}};var ln=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const an=new zt({name:"login",label:"Логин",placeholder:"Yakovleva",autofocus:!0,pattern:p[0],textError:p[1]}),sn=new zt({name:"password",label:"Пароль",type:"password",autocomplete:"on",pattern:d[0],textError:M}),rn=new T({href:k.registration,text:"Нет аккаунта?"});const on=Y("form",class extends Jt{constructor(t){super("form",Object.assign({title:"Вход",stylePrefix:"auth",events:{focusin:()=>{this.state.isAuthError&&(Z.set({isAuthError:null}),this.addAttribute({"data-server-error":"false"}))}}},t))}initChildren(){this.children=Object.assign({link:rn,button:new J({text:"Вход",type:"submit",stylePrefix:"submit",events:{click:t=>{this.submit(t)}}}),login:an,password:sn},this.children)}submit(t){return ln(this,void 0,void 0,(function*(){t.preventDefault();const e=this.getValues();(t=>this.validateForm())()&&(yield nn.signin(e),this.addAttribute({"data-server-error":this.props.isAuthError?"true":"false"}),this.state.isAuthError&&this.setProps({serverError:`Ошибка сервера: ${this.state.isAuthError.message}`}))}))}render(){return this.compile(Xe(),this.props)}},(t=>{const{isAuthError:e,isLogin:n}=t;return{isAuthError:e,isLogin:n}})),cn=new te({content:on});var un=n(6622),pn=n.n(un),hn=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const dn=new zt({name:"first_name",label:"Имя",placeholder:"Виктория",autofocus:!0,pattern:u[0],textError:u[1]}),mn=new zt({name:"second_name",label:"Фамилия",placeholder:"Яковлева",autofocus:!1,pattern:u[0],textError:u[1]}),fn=new zt({name:"login",label:"Логин",placeholder:"v.yakovleva",pattern:p[0],textError:p[1]}),vn=new zt({name:"email",label:"Почта",placeholder:"pochta@yandex.ru",type:"mail",pattern:h[0],textError:h[1]}),yn=new zt({name:"phone",type:"text",label:"Телефон",placeholder:"+7(918) 5000000",pattern:m[0],textError:m[1]}),gn=new zt({name:"password",label:"Пароль",type:"password",autocomplete:"off",pattern:d[0],textError:d[1]}),bn=new zt({name:"repeated_password",label:"Повторите пароль",type:"password",autocomplete:"off",pattern:d[0],textError:d[1]});const On=Y("form",class extends Jt{constructor(t){super("form",Object.assign({title:"Регистрация",stylePrefix:"reg",events:{focusin:()=>{this.addAttribute({"data-password-error":"false"}),this.state.isRegistrationError&&(this.addAttribute({"data-server-error":"false"}),Z.set({isRegistrationError:null}))}}},t))}initChildren(){this.children=Object.assign(Object.assign({},this.children),{"sign-up":new J({text:"Создать аккаунт",type:"submit",stylePrefix:"submit",events:{click:t=>{this.submit(t)}}}),"sign-in":new T({href:"/sign-in",text:"Войти"}),first_name:dn,second_name:mn,login:fn,email:vn,phone:yn,password:gn,repeated_password:bn})}submit(t){var e;return hn(this,void 0,void 0,(function*(){t.preventDefault(),null===(e=document.querySelector("form"))||void 0===e||e.blur();const n=this.validateForm(),l=this.getValues();n&&(yield nn.signup(l),this.addAttribute({"data-server-error":this.props.isRegistrationError?"true":"false"}),this.state.isRegistrationError&&this.setProps({serverError:`Ошибка сервера: ${this.state.isRegistrationError.message}`}))}))}validateForm(){const t=this.getValues();return this.addAttribute({"data-password-error":"false"}),v(t)?super.validateForm():(this.addAttribute({"data-password-error":"true"}),this.setProps({serverError:"Ошибка ввода паролей!"}),!1)}render(){return this.compile(pn(),this.props)}},(t=>{const{user:e,isRegistrationError:n}=t;return{user:e,isRegistrationError:n}})),wn=new te({content:On});var xn=n(4053),Pn=n.n(xn);const En="eMwgIWb2sLJGGDorgFb7";var Cn=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};class jn extends w{constructor(t="section",e){var n=Cn(e,[]);super(t,Object.assign({class:En},n))}initChildren(){var t,e,n,l;this.children=Object.assign(Object.assign({},this.children),{link:new T({href:(null===(e=null===(t=this.state)||void 0===t?void 0:t.user)||void 0===e?void 0:e.id)?k.chats:k.authorization,text:(null===(l=null===(n=this.state)||void 0===n?void 0:n.user)||void 0===l?void 0:l.id)?"Назад к чатам":"Назад"})})}render(){return this.compile(Pn(),this.props)}}const _n=t=>Y("section",jn,(t=>{const{user:e}=t;return{user:e}}),t),kn=_n({code:"404",message:"Не туда попали"}),Mn=_n({code:"404",message:"Не туда попали"});var Sn=n(2809),An=n.n(Sn);const Dn={fileInput:"I2lEIByWUmhF8XzFA8YK",fileInput_clip:"FKytTQalkVpf95ui6ms2"};var Nn=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};const Un=Y("fieldset",class extends w{constructor(t){var{type:e="file",stylePrefix:n=null,text:l="Обзор...",events:a={change:t=>{t.target.files&&Z.set({avatarName:t.target.files[0].name}),Z.set({avatar:t.target.files[0]})}}}=t,s=Nn(t,["type","stylePrefix","text","events"]);super("fieldset",Object.assign({type:e,text:l,class:n?`${Dn.fileInput} ${_.getClassWithPrefix(Dn,"fileInput",n)}`:Dn.fileInput,events:a,accept:"image/*"},s))}render(){return this.compile(An(),this.props)}},(t=>{const{avatar:e,avatarName:n}=t;return{avatar:e,avatarName:n}}));var Tn=n(255),Rn=n.n(Tn);const In={image_avatar:"uTKnXWZ4BT_CqqOlNPza",image_chatItems:"gURaA1YUOU0eVwnQFR7w"};var Ln=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};const Vn=Y("img",class extends w{constructor(t="img",e){var{stylePrefix:n="avatar",avatar:l,alt:a="аватар"}=e,s=Ln(e,["stylePrefix","avatar","alt"]);super(t,Object.assign({alt:a,src:l||Pt||"",class:`${In.image} ${_.getClassWithPrefix(In,"image",n)}`},s))}addAttribute(t){if(super.addAttribute(t),"string"==typeof this.props.avatar)this.element.setAttribute("src",this.props.avatar);else if(void 0!==this.props.avatar){const t=new FileReader;t.readAsDataURL(this.props.avatar),t.onload=()=>{this.element.setAttribute("src",`${t.result}`)}}}render(){return this.compile(Rn(),this.props)}},(t=>{const{avatar:e}=t;return{avatar:e}}));var Fn=n(2760),Wn=n.n(Fn),$n=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const Bn=Y("form",class extends Jt{constructor(t="form",e){super(t,Object.assign({events:{focusin:()=>{this.state.isAuthError&&(Z.set({isAuthError:null}),this.addAttribute({"data-server-error":"false"}))}}},e))}initChildren(){this.children=Object.assign(Object.assign({},this.children),{image:Vn,avatar:Un,"save-avatar":new J({text:"Сохранить",stylePrefix:"save-avatar",type:"submit",events:{click:t=>{this.submit(t)}}})})}submit(t){return $n(this,void 0,void 0,(function*(){t.preventDefault(),fe.changeAvatar()}))}render(){return this.compile(Wn(),this.props)}},(t=>{const{avatar:e}=t;return{avatar:e}}),{title:"Аватар",stylePrefix:"tabs"});var Hn=n(5182),zn=n.n(Hn),Gn=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const Jn=Y("form",class extends Jt{constructor(t="form",e){Z.set({isPasswordSettingsError:null}),super(t,Object.assign({events:{focusin:()=>{this.addAttribute({"data-password-error":"false"}),this.addAttribute({"data-server-error":"false"}),this.addAttribute({"data-success":"false"}),this.state.isPasswordSettingsError&&Z.set({isPasswordSettingsError:null})}},title:"Пароль"},e))}initChildren(){this.children=Object.assign(Object.assign({},this.children),{oldPassword:new zt({name:"oldPassword",label:"Текущий пароль",placeholder:"Введите текущий пароль",stylePrefix:"setting",type:"password",pattern:d[0],textError:M}),password:new zt({name:"password",label:"Новый пароль",placeholder:"",stylePrefix:"setting",type:"password",pattern:d[0],textError:d[1]}),repeated_password:new zt({name:"repeated_password",label:"Повторите пароль",placeholder:"",stylePrefix:"setting",type:"password",pattern:d[0],textError:d[1]}),button:new J({text:"Сохранить",stylePrefix:"save",type:"submit",events:{click:t=>{this.submit(t)}}})})}submit(t){var e;return Gn(this,void 0,void 0,(function*(){console.log(this.props.isPasswordSettingsError),t.preventDefault(),null===(e=document.querySelector("form"))||void 0===e||e.blur();const n=this.validateForm(),l=this.getValues();if(n){const{oldPassword:t,password:e}=l;yield fe.changePassword(t,e),this.addAttribute({"data-server-error":this.props.isPasswordSettingsError?"true":"false"}),this.addAttribute({"data-success":this.props.isPasswordSettingsError?"false":"true"}),this.state.isPasswordSettingsError&&this.setProps({serverError:`Ошибка сервера: ${this.state.isPasswordSettingsError.message}`})}}))}validateForm(){const t=this.getValues();return this.addAttribute({"data-password-error":"false"}),v(t)?super.validateForm():(this.addAttribute({"data-password-error":"true"}),this.setProps({serverError:"Ошибка ввода паролей!"}),!1)}render(){return this.compile(zn(),this.props)}},(t=>{const{user:e,isLogin:n,isPasswordSettingsError:l}=t;return{user:e,isLogin:n,isPasswordSettingsError:l}}),{title:"Безопасность",stylePrefix:"tabs"});var qn=n(6131),Zn=n.n(qn),Qn=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const Yn=Y("form",class extends Jt{constructor(t="form",e){super(t,Object.assign({title:"Личные данные"},e)),Z.set({isPasswordSettingsError:null})}initChildren(){var t,e,n,l,a,s;this.children=Object.assign(Object.assign({},this.children),{first_name:new zt({name:"first_name",label:"Имя",placeholder:"Виктория",stylePrefix:"setting",pattern:u[0],textError:u[1],value:null===(t=this.state.user)||void 0===t?void 0:t.first_name}),second_name:new zt({name:"second_name",label:"Фамилия",placeholder:"Яковлева",stylePrefix:"setting",pattern:u[0],textError:u[1],value:null===(e=this.state.user)||void 0===e?void 0:e.second_name}),login:new zt({name:"login",label:"Логин",placeholder:"Yakovleva",stylePrefix:"setting",pattern:p[0],textError:p[1],value:null===(n=this.state.user)||void 0===n?void 0:n.login}),display_name:new zt({name:"display_name",label:"Имя в чате",placeholder:"Укажите имя в чате",stylePrefix:"setting",value:null===(l=this.state.user)||void 0===l?void 0:l.display_name}),email:new zt({name:"email",label:"Почта",placeholder:"pochta@yandex.ru",type:"mail",stylePrefix:"setting",pattern:h[0],textError:h[1],value:null===(a=this.state.user)||void 0===a?void 0:a.email}),phone:new zt({name:"phone",type:"text",label:"Телефон",placeholder:"+7(918) 5000000",stylePrefix:"setting",pattern:m[0],textError:m[1],value:null===(s=this.state.user)||void 0===s?void 0:s.phone}),button:new J({text:"Сохранить",stylePrefix:"save",type:"submit",events:{click:t=>{this.submit(t)}}})})}submit(t){return Qn(this,void 0,void 0,(function*(){t.preventDefault();const e=this.validateForm(),n=this.getValues();e&&(yield fe.updateUserProfile(n),this.addAttribute({"data-server-error":this.props.isRegistrationSettingsError?"true":"false"}),this.state.isRegistrationSettingsError&&this.setProps({serverError:`Ошибка сервера: ${this.state.isRegistrationSettingsError.message}`}))}))}render(){return this.compile(Zn(),this.props)}},(t=>{const{user:e,isLogin:n,isRegistrationSettingsError:l}=t;return{user:e,isLogin:n,isRegistrationSettingsError:l}}),{title:"Личные данные",stylePrefix:"tabs"});var Xn=n(4766),Kn=n.n(Xn);const tl="qnHAOT1PnuMscM5wQHeE";var el=n(9545),nl=n.n(el);const ll={tabs:"DBovIa23ES_3F3KVyAaQ"};var al=function(t,e){var n={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(t);a<l.length;a++)e.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(t,l[a])&&(n[l[a]]=t[l[a]])}return n};class sl extends w{constructor(t){var{activeLink:e,tabsConfig:n}=t,l=al(t,["activeLink","tabsConfig"]);super("div",Object.assign({activeLink:e,tabsConfig:n,class:`${ll.tabs} ${_.getClassWithPrefix(ll,"tabs",l.stylePrefix||"")}`},l))}initChildren(){this._activeLink=this.props.activeLink;const t=this.children.tabsConfig.map((t=>new T({href:t.pathRoute===this.children.tabsConfig[0].pathRoute?this.props.rootPath:t.pathRoute,text:t.name,stylePrefix:"tabs",active:t.pathRoute===this._activeLink}))),e=this.children.tabsConfig.filter((t=>t.pathRoute===this._activeLink))[0],{content:n}=e,l=this.children,{tabsConfig:a}=l,s=al(l,["tabsConfig"]);this.children=Object.assign(Object.assign({},s),{links:t,content:n})}render(){return this.compile(nl(),this.props)}}var rl=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};const ol=[{name:"Личные данные",content:Yn,pathRoute:"/settings/reg-info"},{name:"Аватар",content:Bn,pathRoute:"/settings/avatar"},{name:"Безопасность",content:Jn,pathRoute:"/settings/safety"}];class il extends w{constructor(t="section",{tabs:e,otherProps:n}){super(t,Object.assign({tabs:e,class:tl,id:"settings"},n)),this.setProps({user:()=>this.state.isLogin,avatar:()=>this.state.avatar}),nn.getUser()}initChildren(){this.children=Object.assign({toChats:new T({href:k.chats,text:"<-",stylePrefix:"settings"}),exit:new J({text:"Выйти из системы",stylePrefix:"logout",type:"button",events:{click:()=>{this.logout()}}})},this.children)}logout(){return rl(this,void 0,void 0,(function*(){yield nn.logout()}))}render(){return this.compile(Kn(),this.props)}}const cl=t=>new sl({activeLink:t,tabsConfig:ol,rootPath:"/settings"}),ul=t=>Y("section",il,(t=>{const{user:e,isLogin:n}=t;return{user:e,isLogin:n}}),{tabs:cl(t),title:"Настройки профиля"}),pl=t=>new te({content:ul(t||ol[0].pathRoute)});var hl=function(t,e,n,l){return new(n||(n=Promise))((function(a,s){function r(t){try{i(l.next(t))}catch(t){s(t)}}function o(t){try{i(l.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}i((l=l.apply(t,e||[])).next())}))};(()=>{hl(void 0,void 0,void 0,(function*(){window.addEventListener("DOMContentLoaded",(()=>hl(void 0,void 0,void 0,(function*(){N.use(k.home,Qe()).use(k.chats,Qe()).use(k.authorization,cn).use(k.registration,wn).use(k.serverError,new te({content:kn})).use(k.notFound,new te({content:Mn})).use(k.setRegInfo,pl(k.setRegInfo)).use(k.setAvatar,pl(k.setAvatar)).use(k.setSafety,pl(k.setSafety)).use(k.setting,pl(k.setRegInfo));const t=[k.authorization,k.registration],e=window.location.pathname;if(Object.values(k).includes(e)){"id"in(yield nn.getUser())?(N.start(),t.includes(e)&&N.go(k.chats)):(N.start(),N.go(k.authorization))}else N.start(),N.go(k.notFound)}))))}))})()}},n={};function l(t){var a=n[t];if(void 0!==a)return a.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,l),s.exports}l.m=e,t=[],l.O=(e,n,a,s)=>{if(!n){var r=1/0;for(u=0;u<t.length;u++){for(var[n,a,s]=t[u],o=!0,i=0;i<n.length;i++)(!1&s||r>=s)&&Object.keys(l.O).every((t=>l.O[t](n[i])))?n.splice(i--,1):(o=!1,s<r&&(r=s));if(o){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[n,a,s]},l.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return l.d(e,{a:e}),e},l.d=(t,e)=>{for(var n in e)l.o(e,n)&&!l.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),l.p="/",(()=>{var t={179:0};l.O.j=e=>0===t[e];var e=(e,n)=>{var a,s,[r,o,i]=n,c=0;if(r.some((e=>0!==t[e]))){for(a in o)l.o(o,a)&&(l.m[a]=o[a]);if(i)var u=i(l)}for(e&&e(n);c<r.length;c++)s=r[c],l.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return l.O(u)},n=self.webpackChunkmy_messeger_project=self.webpackChunkmy_messeger_project||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var a=l.O(void 0,[216],(()=>l(7099)));a=l.O(a)})();